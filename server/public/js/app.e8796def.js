(function(){"use strict";var e={8882:function(e,n,t){var o=t(9242),s=t(3396);const i={id:"stage"},a={id:"namechanger"},r=["disabled"];function u(e,n,t,u,l,c){const d=(0,s.up)("UserBox"),m=(0,s.up)("ChatBox");return(0,s.wg)(),(0,s.iD)("div",i,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.userlist,(e=>((0,s.wg)(),(0,s.j4)(d,{key:e.id,name:e.name,posx:e.locx,posy:e.locy,colour:l.colourChart[e.colour].value,isplayer:!0},null,8,["name","posx","posy","colour"])))),128)),(0,s._)("div",a,[(0,s.wy)((0,s._)("input",{type:"text",id:"nameinput","onUpdate:modelValue":n[0]||(n[0]=e=>l.nameinputval=e),placeholder:"Enter new name...",maxlength:"11"},null,512),[[o.nr,l.nameinputval]]),(0,s._)("button",{id:"namebutton",onClick:n[1]||(n[1]=(...e)=>c.changeName&&c.changeName(...e)),disabled:!(l.nameinputval.length>0)},"Change",8,r)]),(0,s.Wm)(m,{messages:l.messagelist,onSendMessage:c.sendMessage},null,8,["messages","onSendMessage"])])}var l=t(7139);const c={id:"namebadge"},d={id:"innername"};function m(e,n,t,o,i,a){return(0,s.wg)(),(0,s.iD)("div",{id:"user",style:(0,l.j5)(a.fullStyle)},[(0,s._)("div",c,[(0,s._)("div",d,(0,l.zw)(t.name),1)])],4)}var p={name:"UserBox",props:{name:String,posx:Number,posy:Number,colour:String,isplayer:Boolean},computed:{fullStyle(){return"background-color: "+this.colour+"; margin-left: "+(this.posx-20)+"px; margin-top: "+(this.posy-20)+"px;"}}},g=t(89);const v=(0,g.Z)(p,[["render",m],["__scopeId","data-v-4b947d55"]]);var f=v;const h={id:"mainbox"},y={id:"messagecontainer"},b={id:"messagesender"},w=["disabled"];function k(e,n,t,i,a,r){return(0,s.wg)(),(0,s.iD)("div",h,[(0,s._)("div",y,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.messages,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"message",key:e.id},(0,l.zw)(e.name)+": "+(0,l.zw)(e.message),1)))),128))]),(0,s._)("div",b,[(0,s.wy)((0,s._)("input",{type:"text",id:"msginput","onUpdate:modelValue":n[0]||(n[0]=e=>a.msginputval=e),placeholder:"Enter message...",maxlength:"32",onKeyup:n[1]||(n[1]=(0,o.D2)(((...e)=>r.sendMessage&&r.sendMessage(...e)),["enter"]))},null,544),[[o.nr,a.msginputval]]),(0,s._)("button",{id:"msgbutton",onClick:n[2]||(n[2]=(...e)=>r.sendMessage&&r.sendMessage(...e)),disabled:!(a.msginputval.length>0)},"Send",8,w)])])}var x={name:"ChatBox",props:{messages:Array},data(){return{msginputval:""}},mounted(){const e=document.getElementsByClassName("input1")[0];e.addEventListener("keyup",(function(e){e.key}))},methods:{sendMessage(){this.$emit("send-message",this.msginputval),this.msginputval=""}}};const _=(0,g.Z)(x,[["render",k],["__scopeId","data-v-6451d95a"]]);var O=_,S=t(2066),C=t(8075),M=t.n(C),j={name:"App",components:{UserBox:f,ChatBox:O},data(){return{colourChart:[{colour:"white",value:"#ffffff"},{colour:"red",value:"#b32b2b"},{colour:"blue",value:"#3a68c9"},{colour:"green",value:"#229926"},{colour:"yellow",value:"#c4d950"},{colour:"pink",value:"#c74485"}],userlist:[],nameinputval:"",socket:null,messagelist:[{name:"Server",message:"Welcome to the chat!"},{name:"Server",message:"Hello!"}]}},mounted(){var e="/";this.socket=(0,S.ZP)(e,{pingInterval:1e3,pingTimeout:5e3}),this.socket.on("user-list",(e=>{this.userlist=e})),this.socket.on("connect",(()=>{console.log("Connected to server")})),this.socket.on("sent-message",(e=>{this.messagelist.unshift(e)})),this.socket.on("disconnect",(()=>{location.reload(),console.log("Disconnected from server")}));let n=[0,0,0,0],t=!1;setInterval((()=>{if(M().tick(),t){t=!1;let e=-1*n[0]+n[1],o=-1*n[2]+n[3];0==o&&0==e||this.socket.emit("request-move",{x:o,y:e})}}),10),M().UP.down((()=>{n[0]=1,t=!0})),M().DOWN.down((()=>{n[1]=1,t=!0})),M().LEFT.down((()=>{n[2]=1,t=!0})),M().RIGHT.down((()=>{n[3]=1,t=!0})),M().UP.up((()=>{n[0]=0,t=!0})),M().DOWN.up((()=>{n[1]=0,t=!0})),M().LEFT.up((()=>{n[2]=0,t=!0})),M().RIGHT.up((()=>{n[3]=0,t=!0}))},methods:{changeName(){""!=this.nameinputval&&(this.socket.emit("request-change-name",this.nameinputval),this.nameinputval="")},sendMessage(e){let n={id:this.socket.id,message:e};this.socket.emit("request-send-message",n)}}};const D=(0,g.Z)(j,[["render",u]]);var T=D;(0,o.ri)(T).mount("#app")}},n={};function t(o){var s=n[o];if(void 0!==s)return s.exports;var i=n[o]={exports:{}};return e[o](i,i.exports,t),i.exports}t.m=e,function(){var e=[];t.O=function(n,o,s,i){if(!o){var a=1/0;for(c=0;c<e.length;c++){o=e[c][0],s=e[c][1],i=e[c][2];for(var r=!0,u=0;u<o.length;u++)(!1&i||a>=i)&&Object.keys(t.O).every((function(e){return t.O[e](o[u])}))?o.splice(u--,1):(r=!1,i<a&&(a=i));if(r){e.splice(c--,1);var l=s();void 0!==l&&(n=l)}}return n}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[o,s,i]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};t.O.j=function(n){return 0===e[n]};var n=function(n,o){var s,i,a=o[0],r=o[1],u=o[2],l=0;if(a.some((function(n){return 0!==e[n]}))){for(s in r)t.o(r,s)&&(t.m[s]=r[s]);if(u)var c=u(t)}for(n&&n(o);l<a.length;l++)i=a[l],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(c)},o=self["webpackChunkclient"]=self["webpackChunkclient"]||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var o=t.O(void 0,[998],(function(){return t(8882)}));o=t.O(o)})();
//# sourceMappingURL=app.e8796def.js.map